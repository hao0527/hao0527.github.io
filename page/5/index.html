<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/heng32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/heng16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="保持热爱，奔赴山海。">
<meta property="og:type" content="website">
<meta property="og:title" content="永恆博客网">
<meta property="og:url" content="http://example.com/page/5/index.html">
<meta property="og:site_name" content="永恆博客网">
<meta property="og:description" content="保持热爱，奔赴山海。">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Hao">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/5/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>永恆博客网</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">永恆博客网</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/07/210607-%E6%AF%8F%E6%97%A5%E4%B8%80%E7%BB%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hao">
      <meta itemprop="description" content="保持热爱，奔赴山海。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永恆博客网">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/07/210607-%E6%AF%8F%E6%97%A5%E4%B8%80%E7%BB%83/" class="post-title-link" itemprop="url">牛客网每日一练</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-07 18:00:00" itemprop="dateCreated datePublished" datetime="2021-06-07T18:00:00+08:00">2021-06-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-16 14:39:54" itemprop="dateModified" datetime="2022-04-16T14:39:54+08:00">2022-04-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C-C/" itemprop="url" rel="index"><span itemprop="name">C/C++</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ol>
<li><p>（判断题）指针就是地址，因此一个变量的指针就是该变量的地址。<br>答案：错误；解释：指针是个变量，指针的值是个地址，地址是个常量。</p>
</li>
<li><p>char* s=”AAA”;<br>s[0]=’B’;    //错误，初始化指针时所创建的字符串常量被定义为只读，修改违法</p>
</li>
<li><p><code>char ch;int i;float f;double d;</code><br>表达式：<code>ch/i+(f*d-i)</code>的结果类型为<u>double</u></p>
</li>
<li><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">5</span>, b = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> c = <span class="built_in">MAX</span>(++a, b);</span><br><span class="line">    <span class="type">int</span> d = <span class="built_in">MAX</span>(++a, b + <span class="number">10</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d %d %d %d\n&quot;</span>, a, b, c, d);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Output： 8 0 7 10<br>解释：注意define，第一次调用MAX时，++a先执行了一次，此时a为6，由于满足宏定义中(a)&gt;(b)的条件，所以执行a，这个a就对应++a，所以a又自增了一次，变为7，由此得出c为7。 第二个MAX时a又自增了一次，此时为8，由于不满足条件，所以执行的是宏定义中的b，没有执行++a，所以a最终为8</p>
</li>
<li><p>关于fseek()    参考：<a target="_blank" rel="noopener" href="https://www.runoob.com/cprogramming/c-function-fseek.html">C库函数 - fseek()</a></p>
</li>
<li><p>转义字符分三种，一般转义字符，八进制转义字符和十六进制转义字符 </p>
<p> <strong>一般转义字符</strong>，如‘\b’，由两个字符表示，其实代表一个字符，这个代表退格字符 </p>
<p> <strong>八进制转义字符</strong>，如‘\007’,三位数字是八进制的，ASCII码为7的表示响铃 </p>
<p> <strong>十六进制转义字符</strong>，如’\xfe’，同样后面数字是所表示意思的Ascii码的十六进制表示，注意一定要有x，大小写都行</p>
</li>
<li><p>在C程序中逗号运算符的优先级最低，赋值运算符其次；j++是属于赋值语句；sizeof()属于一元运算符；</p>
</li>
<li><p>C中&amp;&amp;（逻辑与）和&amp;（按位与）</p>
<ul>
<li>按位与运用二进制进行计算，逻辑与比较符号两边的真假输出逻辑值。</li>
<li>按位与对所有的表达式都要判断，逻辑与运算符第一个表达式不成立的话，后面的表达式不运算，直接返回。</li>
<li>按位与&amp;输出运算结果为不同的数值，逻辑与 &amp;&amp; 输出逻辑值true或者 false。</li>
</ul>
</li>
<li><p>两个指针变量不可以相加，因为指针变量相加没有意义。</p>
</li>
<li><p>scanf函数不能指定输入精度，可以指定长度，比如%m.nf是不允许的，但是可以%mf(m为整数)。<code>scanf(&quot;%7.2f&quot;,&amp;a);</code>不合法</p>
</li>
<li><p>多态类中的虚函数表建立在编译阶段。对类的编译，内存分布不太了解。</p>
</li>
<li><p><code>const int* p</code>是常量指针，<strong>p可以改变，*p不能改变</strong>；<code>int* const p = &amp;a</code>是指针常量，<strong>p不可以改变，*p能改变</strong>；记忆方法：const后面是p，p不能改变，const后面是*p，*p不能改变；还有一种<code>const int* const p = &amp;a</code>，p和*p都不能改变。</p>
</li>
<li><p>C++程序执行时，内存划分4个区域。不同区域存放的数据，赋予不同的生命周期，给我们更大的灵活编程。代码区和全局区是在程序运行前划分，堆栈是在程序运行后划分。</p>
<ul>
<li>代码区：存放函数体和二进制代码，由操作系统负责管理（共享、只读）</li>
<li>全局区：存放全局变量和静态变量以及字符串，全局常量（程序结束后，由系统自动回收）</li>
<li>栈区：由编译器自动分配释放，存放函数的参数值，局部变量，局部常量等</li>
<li>堆区：由程序员分配释放，若程序员不释放，程序结束时，由系统自动回收</li>
</ul>
</li>
<li><p>C++用new关键字请求内存，用delete释放内存，参考：<a target="_blank" rel="noopener" href="https://www.runoob.com/cplusplus/cpp-dynamic-memory.html">C++ 动态内存</a></p>
</li>
<li><p>C没有引用，C++引用变量是一个别名，参考：<a target="_blank" rel="noopener" href="https://www.runoob.com/cplusplus/cpp-references.htmlv">C++引用</a>；使用<a target="_blank" rel="noopener" href="https://www.runoob.com/cplusplus/passing-parameters-by-references.html">引用传参</a>；使用<a target="_blank" rel="noopener" href="https://www.runoob.com/cplusplus/returning-values-by-reference.html">引用作为函数返回值</a>；<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1et411b73Z?p=93&spm_id_from=pageDriver">引用的本质</a>是指针常量；</p>
</li>
<li><p>浅拷贝只复制指向某个对象的指针，而不复制对象本身，新旧对象还是共享同一块内存。但深拷贝会另外创造一个一模一样的对象，新对象跟原对象不共享内存，修改新对象不会改到原对象。<strong>如果属性有在堆区开辟的，一定要自己提供拷贝构造函数，防止浅拷贝析构时重复释放堆带来的问题</strong>。</p>
</li>
<li><p>类成员中有其他类对象，构造时先构造成员中的类对象，再构造自身；析构时相反。</p>
</li>
<li><p>静态成员变量：所有对象共享同一份数据；在编译阶段分配内存；类内声明，类外初始化；静态成员函数：所有对象共享同一个函数；静态成员函数只能访问静态成员变量；</p>
</li>
<li><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; cout, Class &amp;c)</span><br><span class="line">&#123;	<span class="comment">// c++重载&lt;&lt;运算符</span></span><br><span class="line">    cout &lt;&lt; c.m_A;	<span class="comment">// 打印成员变量</span></span><br><span class="line">    <span class="keyword">return</span> cout;	<span class="comment">// 链式编程</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/23/210523-%E7%94%B5%E5%AE%B9%E9%80%89%E5%9E%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hao">
      <meta itemprop="description" content="保持热爱，奔赴山海。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永恆博客网">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/23/210523-%E7%94%B5%E5%AE%B9%E9%80%89%E5%9E%8B/" class="post-title-link" itemprop="url">电容的选型</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-23 15:00:00" itemprop="dateCreated datePublished" datetime="2021-05-23T15:00:00+08:00">2021-05-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-05-24 09:12:39" itemprop="dateModified" datetime="2021-05-24T09:12:39+08:00">2021-05-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%99%BA%E8%83%BD%E8%BD%A6/" itemprop="url" rel="index"><span itemprop="name">智能车</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/yingxuexuan/article/details/6117023">LDO 输出电容</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/AirCity123/article/details/104186046">LDO输出端电容对其稳定性的影响</a></p>
</li>
</ul>
<h3 id="各种电容特性"><a href="#各种电容特性" class="headerlink" title="各种电容特性"></a>各种电容特性</h3><p><strong>多层陶瓷电容</strong></p>
<p>多层陶瓷电容(MLCC)不仅尺寸小，而且将低ESR、低ESL和宽工作温度范围特性融于一体，可以说是旁路电容的首选。不过，这类电容也并非完美无缺。根据电介质材料不同，电容值会随着温度、直流偏置和交流信号电压动态变化。另外，电介质材料的压电特性可将振动或机械冲击转换为交流噪声电压。大多数情况下，此类噪声往往以微伏计，但在极端情况下，机械力可以产生毫伏级噪声。</p>
<p>电压控制振荡器(VCO)、锁相环(PLL)、RF功率放大器(PA)和其它模拟电路都对供电轨上的噪声非常敏感。在VCO和PLL中，此类噪声表现为相位噪声；在RF PA中，表现为幅度调制；而在超声、CT扫描以及处理低电平模拟信号的其它应用中，则表现为显示伪像。尽管陶瓷电容存在上述缺陷，但由于尺寸小且成本低，因此几乎在每种电子器件中都会用到。不过，当调节器用在对噪声敏感的应用中时，设计人员必须仔细评估这些副作用。</p>
<p><strong>固态钽电解电容</strong></p>
<p>与陶瓷电容相比，固态钽电容对温度、偏置和振动效应的敏感度相对较低。新兴一种固态钽电容采用导电聚合物电解质，而非常见的二氧化锰电解质，其浪涌电流能力有所提高，而且无需电流限制电阻。此项技术的另一好处是ESR更低。固态钽电容的电容值可以相对于温度和偏置电压保持稳定，因此选择标准仅包括容差、工作温度范围内的降压情况以及最大ESR。</p>
<p>导电聚合物钽电容具有低ESR特性，成本高于陶瓷电容而且体积也略大，但对于不能忍受压电效应噪声的应用而言可能是唯一选择。不过，钽电容的漏电流要远远大于等值陶瓷电容，因此不适合一些低电流应用。</p>
<p>固态聚合物电解质技术的缺点是此类钽电容对无铅焊接过程中的高温更为敏感，因此制造商通常会规定电容在焊接时不得超过三个焊接周期。组装过程中若忽视此项要求，则可能导致长期稳定性问题。</p>
<p><strong>铝电解电容</strong></p>
<p>传统的铝电解电容往往体积较大、ESR和ESL较高、漏电流相对较高且使用寿命有限（以数千小时计）。而OS-CON电容则采用有机半导体电解质和铝箔阴极，以实现较低的ESR。这类电容虽然与固态聚合物钽电容相关，但实际上要比钽电容早10年或更久。由于不存在液态电解质逐渐变干的问题，OS-CON型电容的使用寿命要比传统的铝电解电容长。大多数电容的工作温度上限为105°C，但现在OS-CON型电容可以在最高125°C的温度范围内工作。</p>
<p>虽然OS-CON型电容的性能要优于传统的铝电解电容，但是与陶瓷电容或固态聚合物钽电容相比，往往体积更大且ESR更高。与固态聚合物钽电容一样，这类电容不受压电效应影响，因此适合低噪声应用。</p>
<p><strong>固态电容</strong></p>
<p>固态电容器的全名为固态铝质电解电容器，是目前电容器产品中最高阶的产品，固态电容的介电材料则为功能性导电高分子，能大幅提升产品的稳定度与安全性，它与液态铝质电解电容最大差别，在于所使用的介电材料，过去铝质电解电容所使用的介电材料是电解液，而固态电容则是导电性高分子材料，也因此导致成本相对较高。固态电容特点固态电容具备环保、低阻抗、高低温稳定、耐高纹波及高信赖度等优越特性，是目前电解电容产品中最高阶的产品。由于固态电容特性远优于液态铝电容，固态电容耐温达摄氏260度，且导电性、频率特性及寿命均佳，适用于低电压、高电流的应用。</p>
<h3 id="LDO负载电容"><a href="#LDO负载电容" class="headerlink" title="LDO负载电容"></a>LDO负载电容</h3><p>影响LDO稳定工作的外在因素是负载电容容值CL和ESR，以及LDO的输出电流，他们的关系是：</p>
<ol>
<li><p>容值小的CL，ESR往往较大，容值大的CL，ESR往往较小。无论哪种电容，都要保证ESR在合理的范围内，规格书往往会提供这个范围。</p>
</li>
<li><p>当LDO输出电流是额定电流的20%~50%时，容易发生不稳定状况。</p>
</li>
<li><p>低温时，CL的ESR会升高，并且容值也会发生变化。选型时要注意！</p>
</li>
<li><p>在ESR很低，LDO输出电流很小（≤1mA）时，容易发生不稳定状况。</p>
</li>
<li><p>同一温度下，LDO输出电流越小，保证LDO稳定性的ESR值越高。</p>
</li>
<li><p>同一输出电流下，温度越高，保证LDO稳定性的ESR越大。</p>
</li>
<li><p>在低输出电流时，LDO输出波形变成三角波，说明ESR过低；在中等输出电流时，如果LDO波形是正弦波，说明ESR过高。</p>
</li>
</ol>
<table>
<thead>
<tr>
<th><strong>电容技术</strong></th>
<th><strong>等效串联电阻</strong></th>
<th><strong>等效串联电感</strong></th>
<th><strong>电压稳定性</strong></th>
<th><strong>温度稳定性</strong></th>
<th><strong>振动敏感度</strong></th>
<th><strong>电容值/单位体积</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>铝电解电容</strong></td>
<td>最高</td>
<td>最高</td>
<td>好</td>
<td>最低</td>
<td>低</td>
<td>低</td>
</tr>
<tr>
<td><strong>固态钽电容</strong></td>
<td>中等</td>
<td>中等</td>
<td>最佳</td>
<td>好</td>
<td>低</td>
<td>高</td>
</tr>
<tr>
<td><strong>聚合物固态铝电容</strong></td>
<td>低</td>
<td>低</td>
<td>最佳</td>
<td>好</td>
<td>低</td>
<td>高</td>
</tr>
<tr>
<td><strong>多层陶瓷电容</strong></td>
<td>最低</td>
<td>最低</td>
<td>差</td>
<td>好</td>
<td>高</td>
<td>中等</td>
</tr>
</tbody></table>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/17/210517-%E9%A3%9E%E5%8D%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hao">
      <meta itemprop="description" content="保持热爱，奔赴山海。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永恆博客网">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/17/210517-%E9%A3%9E%E5%8D%A1/" class="post-title-link" itemprop="url">十六届智能车基础四轮方案</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-17 20:00:00" itemprop="dateCreated datePublished" datetime="2021-05-17T20:00:00+08:00">2021-05-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-06-11 14:59:39" itemprop="dateModified" datetime="2021-06-11T14:59:39+08:00">2021-06-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%99%BA%E8%83%BD%E8%BD%A6/" itemprop="url" rel="index"><span itemprop="name">智能车</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>不会吧，不会吧，我又参加飞卡了？</p>
<h3 id="基础四轮组规则"><a href="#基础四轮组规则" class="headerlink" title="基础四轮组规则"></a>基础四轮组规则</h3><ul>
<li><p>车模：B车模，车模宽度不超过25厘米，高度不超过20厘米，长度没有限制，如果安装摄像头传感器，摄像头镜片中心的高度距离地面不超过10厘米</p>
</li>
<li><p>MCU：指定使用 Infineon系列单片机，允许使用各类电磁、红外光电、摄像头、激光、超声传感器</p>
</li>
<li><p>赛道元素：进出库、三岔路口（进出口120°，路口间直线距离&lt;3m）、环岛（R&lt;0.5m）、坡道（坡度&lt;=20°）、十字路口（需直行）、弯道（曲率半径&lt;0.5m）</p>
</li>
</ul>
<h3 id="电机驱动"><a href="#电机驱动" class="headerlink" title="电机驱动"></a>电机驱动</h3><p>IR2184老方案，B车电机比较猛，可能有11.7A，试一下加RDC释放电路来提高刹车性能</p>
<p><img src="/2021/05/17/210517-%E9%A3%9E%E5%8D%A1/210517-%E9%A3%9E%E5%8D%A1-1.jpg" alt="210517-飞卡-1.jpg"></p>
<p><img src="/2021/05/17/210517-%E9%A3%9E%E5%8D%A1/210517-%E9%A3%9E%E5%8D%A1-2.jpg" alt="210517-飞卡-2.jpg"></p>
<ul>
<li><input checked disabled type="checkbox"> 电机驱动加上ina240测电机电流(21.6.11前)</li>
</ul>
<p><img src="/2021/05/17/210517-%E9%A3%9E%E5%8D%A1/210517-%E9%A3%9E%E5%8D%A1-7.jpg" alt="210517-飞卡-7.jpg"></p>
<p><img src="/2021/05/17/210517-%E9%A3%9E%E5%8D%A1/210517-%E9%A3%9E%E5%8D%A1-8.jpg" alt="210517-飞卡-8.jpg"></p>
<p>（21.6.11）程序员通过电机反转来刹车，未加驱动死区时间，导致锂电池保护板保护。</p>
<h3 id="电磁运放"><a href="#电磁运放" class="headerlink" title="电磁运放"></a>电磁运放</h3><p>采用逐飞方案，opa4377，单端放大，检波，二极管使用了压降小的肖特基二极管</p>
<p><img src="/2021/05/17/210517-%E9%A3%9E%E5%8D%A1/210517-%E9%A3%9E%E5%8D%A1-3.jpg" alt="210517-飞卡-3.jpg"></p>
<p><img src="/2021/05/17/210517-%E9%A3%9E%E5%8D%A1/210517-%E9%A3%9E%E5%8D%A1-4.jpg" alt="210517-飞卡-4.jpg"></p>
<h3 id="tc377主控"><a href="#tc377主控" class="headerlink" title="tc377主控"></a>tc377主控</h3><p>考虑到DC-DC负载响应速率不如LDO，继续使用LM1084-ADJ给舵机供6.3v电<br><img src="/2021/05/17/210517-%E9%A3%9E%E5%8D%A1/210517-%E9%A3%9E%E5%8D%A1-5.jpg" alt="210517-飞卡-5.jpg"><br><img src="/2021/05/17/210517-%E9%A3%9E%E5%8D%A1/210517-%E9%A3%9E%E5%8D%A1-6.jpg" alt="210517-飞卡-6.jpg"></p>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/14/210514-stack/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hao">
      <meta itemprop="description" content="保持热爱，奔赴山海。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永恆博客网">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/14/210514-stack/" class="post-title-link" itemprop="url">动态顺序栈（C++）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-14 10:00:00" itemprop="dateCreated datePublished" datetime="2021-05-14T10:00:00+08:00">2021-05-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-06-07 18:11:56" itemprop="dateModified" datetime="2021-06-07T18:11:56+08:00">2021-06-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C-C/" itemprop="url" rel="index"><span itemprop="name">C/C++</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><p><a target="_blank" rel="noopener" href="http://c.biancheng.net/view/279.html">cin.getline()：C++读入一行字符串（整行数据）</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/dove1202ly/article/details/78542574">动态顺序栈的简单实现</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/wkfvawl/p/10846851.html">C++ delete 和 delete []的区别</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/lst601z815/p/5034576.html">c++数组自动扩容（动态数组）</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/manchengpiaoxue/article/details/83145476">c++动态数组</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://codingdict.com/article/6233">C++ 类构造函数 &amp; 析构函数</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://c.biancheng.net/view/2318.html">C++类模板5分钟入门教程</a></p>
</li>
</ul>
<h3 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Stack</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Stack</span>():_pData(<span class="keyword">new</span> T[<span class="number">1</span>]), _capacity(<span class="number">1</span>), _size(<span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;creat stack successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	~<span class="built_in">Stack</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">delete</span> [] _pData;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;delete stack successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">Push</span><span class="params">(<span class="type">const</span> T&amp; t)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="built_in">CheckCapacity</span>();</span><br><span class="line">		_pData[_size++] = t;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;push &quot;</span> &lt;&lt; t &lt;&lt; <span class="string">&quot; successful&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function">T&amp; <span class="title">Pop</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		T&amp; t = _pData[_size<span class="number">-1</span>];</span><br><span class="line">		_size--;</span><br><span class="line">		<span class="comment">// cout &lt;&lt; &quot;pop return &quot; &lt;&lt; t &lt;&lt; endl;</span></span><br><span class="line">		<span class="keyword">return</span> t;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">size_t</span> <span class="title">Size</span><span class="params">()</span><span class="type">const</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> _size;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">size_t</span> <span class="title">Capacity</span><span class="params">()</span><span class="type">const</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> _capacity;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">CheckCapacity</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="type">size_t</span> size = <span class="built_in">Size</span>();</span><br><span class="line">		<span class="type">size_t</span> capacity = <span class="built_in">Capacity</span>();</span><br><span class="line">		<span class="type">size_t</span> newcapacity = <span class="number">2</span> * capacity;</span><br><span class="line">		<span class="keyword">if</span> (size &gt;= capacity)</span><br><span class="line">		&#123;</span><br><span class="line">			_capacity = newcapacity;</span><br><span class="line">			T* tmp = <span class="keyword">new</span> T[newcapacity];</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>; i&lt;size; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				tmp[i] = _pData[i];</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">delete</span>[] _pData;</span><br><span class="line">			_pData = tmp;</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;capacity add to &quot;</span> &lt;&lt; newcapacity &lt;&lt; endl;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	T* _pData;</span><br><span class="line">	<span class="type">size_t</span> _capacity;</span><br><span class="line">	<span class="type">size_t</span> _size;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Stack&lt;<span class="type">char</span>&gt; s;</span><br><span class="line">	<span class="type">char</span> strInput[<span class="number">100</span>]=<span class="string">&quot;test\0&quot;</span>;</span><br><span class="line">	<span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;input:&quot;</span>;</span><br><span class="line">	<span class="keyword">if</span>(!cin.<span class="built_in">getline</span>(strInput,<span class="number">100</span>))</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;error, input too long&quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">while</span>(strInput[i] != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		s.<span class="built_in">Push</span>(strInput[i]);</span><br><span class="line">		i++;</span><br><span class="line">	&#125;</span><br><span class="line">	i = <span class="number">0</span>;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;output:&quot;</span>;</span><br><span class="line">	<span class="keyword">while</span>(strInput[i] != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; s.<span class="built_in">Pop</span>();</span><br><span class="line">		i++;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	<span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="运行结果"><a href="#运行结果" class="headerlink" title="运行结果"></a>运行结果</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">creat stack successful</span><br><span class="line">input:i love tzy</span><br><span class="line">push i successful</span><br><span class="line">capacity add to 2</span><br><span class="line">push   successful</span><br><span class="line">capacity add to 4</span><br><span class="line">push l successful</span><br><span class="line">push o successful</span><br><span class="line">capacity add to 8</span><br><span class="line">push v successful</span><br><span class="line">push e successful</span><br><span class="line">push   successful</span><br><span class="line">push t successful</span><br><span class="line">capacity add to 16</span><br><span class="line">push z successful</span><br><span class="line">push y successful</span><br><span class="line">output:yzt evol i</span><br></pre></td></tr></table></figure>

<h3 id="坑"><a href="#坑" class="headerlink" title="坑"></a>坑</h3><ol>
<li>Sublime里运行程序不能输入数据，只能输出数据（卡在cin）</li>
<li>参考：<strong>动态顺序栈的简单实现</strong> 中，数组扩容未改变_capacity</li>
</ol>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/11/210511-espidf/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hao">
      <meta itemprop="description" content="保持热爱，奔赴山海。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永恆博客网">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/11/210511-espidf/" class="post-title-link" itemprop="url">esp-idf开发esp32</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-11 15:00:00" itemprop="dateCreated datePublished" datetime="2021-05-11T15:00:00+08:00">2021-05-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-05-16 16:50:46" itemprop="dateModified" datetime="2021-05-16T16:50:46+08:00">2021-05-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/esp32/" itemprop="url" rel="index"><span itemprop="name">esp32</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h2><ol>
<li>安装Visual Studio Code（下面简称vscode）</li>
<li>安装python3.7.8（添加环境变量）、Git工具、CMake</li>
<li>vscode安装ESP-IDF Explorer插件，一键安装idf工具（国内速度慢）</li>
<li>通过这个插件安装esp-idf可能会失败，我当初用手机流量+梯子装的很快</li>
</ol>
<h2 id="使用idf"><a href="#使用idf" class="headerlink" title="使用idf"></a>使用idf</h2><p>Windows开发建议在vscode中使用esp-idf explorer插件</p>
<p>vscode还支持macOS和Linxu，未试过在其他操作系统使用该插件</p>
<h3 id="直接使用esp-idf"><a href="#直接使用esp-idf" class="headerlink" title="直接使用esp-idf"></a>直接使用esp-idf</h3><ol>
<li><p><code>%USERPROFILE%\esp\esp-idf</code>目录下examples文件夹内有例程</p>
</li>
<li><p>每次用idf工具，需要执行<code>%USERPROFILE%\esp\esp-idf</code>目录下的export添加环境变量，我是Windows，需要执行export.ps1，<strong>使用export.bat无效</strong>，ps1是Windows Power Shell脚本，需要电脑开启运行脚本权限，在管理员模式下Shell输入<code>set-executionpolicy remotesigned</code>开启权限，然后就可以运行export.ps1</p>
</li>
<li><p>在工程文件夹内使用<code>idf.py menuconfig</code>来配置工程</p>
</li>
<li><p>使用<code>idf.py build</code>来编译程序（首次编译或更改SDK后的速度慢）</p>
</li>
<li><p><code>idf.py -p PORT flash monitor</code>来下载程序</p>
</li>
</ol>
<h3 id="使用esp-idf-explorer插件"><a href="#使用esp-idf-explorer插件" class="headerlink" title="使用esp-idf explorer插件"></a>使用esp-idf explorer插件</h3><ul>
<li><p>这个工具非常好用，有GUI配SDK，在vscode用插件指令可以编译下载等</p>
</li>
<li><p>参考：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV17p4y167uN?p=1">ESP-IDF VS Code 插件快速操作指南</a></p>
</li>
<li><p>vscode cmd <code>&gt;ESP-IDF:Show Examples Projects</code>基于例程新建工程</p>
</li>
<li><p>编译，下载，调试，设置sdk等功能点点左下角图标就可以</p>
</li>
</ul>
<h2 id="我的esp项目"><a href="#我的esp项目" class="headerlink" title="我的esp项目"></a>我的esp项目</h2><h3 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h3><p>通过esp32把红外热像Demo板的温度信号用TCP发到电脑上</p>
<h3 id="ESP和Demo板Uart通信"><a href="#ESP和Demo板Uart通信" class="headerlink" title="ESP和Demo板Uart通信"></a>ESP和Demo板Uart通信</h3><ul>
<li>参考esp例程：uart_events</li>
</ul>
<h3 id="ESP和电脑TCP通信"><a href="#ESP和电脑TCP通信" class="headerlink" title="ESP和电脑TCP通信"></a>ESP和电脑TCP通信</h3><ul>
<li>参考esp例程：tcp_client</li>
</ul>
<h3 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h3><ol>
<li>uart通信波特率设成921600时，接收会hw fifo overflow，esp没有DMA例程，通过降波特率解决</li>
<li>socket通信电脑端接收的时候不断更改<code>recv(new_fd, buff, BUFSIZ, 0)</code>buff指针会程序中断，未查出原因，通过把每次接收到的数据包写入文件解决</li>
</ol>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/07/210507-%E5%8D%A1%E7%89%87%E6%9C%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hao">
      <meta itemprop="description" content="保持热爱，奔赴山海。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永恆博客网">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/07/210507-%E5%8D%A1%E7%89%87%E6%9C%BA/" class="post-title-link" itemprop="url">卡片机项目进度</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-07 16:00:00" itemprop="dateCreated datePublished" datetime="2021-05-07T16:00:00+08:00">2021-05-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-10 21:13:02" itemprop="dateModified" datetime="2021-08-10T21:13:02+08:00">2021-08-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E4%BD%9C%E6%97%A5%E5%BF%97/" itemprop="url" rel="index"><span itemprop="name">工作日志</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E4%BD%9C%E6%97%A5%E5%BF%97/%E5%8D%A1%E7%89%87%E6%9C%BA/" itemprop="url" rel="index"><span itemprop="name">卡片机</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="室内-双光-配电柜卡片机"><a href="#室内-双光-配电柜卡片机" class="headerlink" title="室内 双光 配电柜卡片机"></a>室内 双光 配电柜卡片机</h2><h3 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h3><ol>
<li>80*62 分辨率  预留160*120的空间和接口</li>
<li>200W 1920*1080  可见光分辨率</li>
<li>白光 LED 拍照照明</li>
<li>DC6-8.4V外部供电</li>
<li>低功耗</li>
<li>6-8pin航插，DC5V，uart 和SWD接口</li>
<li>无线图传电台：开阔地300米</li>
</ol>
<h3 id="技术方案"><a href="#技术方案" class="headerlink" title="技术方案"></a>技术方案</h3><ol>
<li><p>红外：80*62 的 3.3v spi接口上拉  160*120  fpc的 8Mbps UART ，DC5.0V降压 </p>
</li>
<li><p>可见光：OV2640 200W 24pin  考虑fpga作为DVP-spi接口 fpga时钟</p>
</li>
<li><p> 白光LED： DC3.4V 100-500mA</p>
</li>
<li><p>无线模块：24L01 2.4-2.52GHZ 250Kbps 500mW 27DB发射功率</p>
</li>
<li><p>电源：DC6V-8.4V 输入，加单向TVS和PTC保护  1uA低功耗LDO 接MCU ,带有EN使能脚的BUCK输出3.3V/5V</p>
</li>
<li><p>光敏  光电二极管加lmv321 放大 ADC</p>
</li>
<li><p>输出接口：SMA 无线  8pin 航插  RST，Vin ，rx/tx , SWD (ESD保护)</p>
</li>
<li><p>MCU：带RTC 32.768</p>
</li>
</ol>
<h3 id="调试阶段进度"><a href="#调试阶段进度" class="headerlink" title="调试阶段进度"></a>调试阶段进度</h3><h4 id="硬件"><a href="#硬件" class="headerlink" title="硬件"></a>硬件</h4><ul>
<li><input checked disabled type="checkbox"> 绘制原理图</li>
<li><input checked disabled type="checkbox"> 绘制PCB（调试板）</li>
<li><input checked disabled type="checkbox"> 制板焊接（调试板）</li>
<li><input checked disabled type="checkbox"> 绘制产品的PCB</li>
</ul>
<h4 id="软件"><a href="#软件" class="headerlink" title="软件"></a>软件</h4><ul>
<li><input checked disabled type="checkbox"> 调试80*60红外模块</li>
<li><input checked disabled type="checkbox"> 调试160*120红外模块</li>
<li><input checked disabled type="checkbox"> 调试FPGA-OV2640部分</li>
<li><input checked disabled type="checkbox"> 调试FPGA-MCU部分</li>
<li><input checked disabled type="checkbox"> 调试24L01模块</li>
<li><input checked disabled type="checkbox"> 调试电源管理部分</li>
<li><input disabled type="checkbox"> 调试其他功能</li>
</ul>
<h4 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h4><ul>
<li><input checked disabled type="checkbox"> 红外模块板外形</li>
<li><input disabled type="checkbox"> ……</li>
</ul>
<h2 id="无线集抄器部分"><a href="#无线集抄器部分" class="headerlink" title="无线集抄器部分"></a>无线集抄器部分</h2><h3 id="需求分析-1"><a href="#需求分析-1" class="headerlink" title="需求分析"></a>需求分析</h3><ol>
<li>可以支持500个从站</li>
<li>服务器端配置网络和从站设备</li>
<li>网口或者CAT1上传服务器</li>
<li>户外型  安装部署方便</li>
<li>DC12V 持续供电</li>
</ol>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/06/210506-bjt%E5%92%8Cfet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hao">
      <meta itemprop="description" content="保持热爱，奔赴山海。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永恆博客网">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/06/210506-bjt%E5%92%8Cfet/" class="post-title-link" itemprop="url">BJT和FET相关知识总结</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-06 15:00:00" itemprop="dateCreated datePublished" datetime="2021-05-06T15:00:00+08:00">2021-05-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-06-12 09:13:16" itemprop="dateModified" datetime="2021-06-12T09:13:16+08:00">2021-06-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%A1%AC%E4%BB%B6/" itemprop="url" rel="index"><span itemprop="name">硬件</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="晶体三极管（BJT）"><a href="#晶体三极管（BJT）" class="headerlink" title="晶体三极管（BJT）"></a>晶体三极管（BJT）</h2><p>《模拟电子技术基础》（第五版）P24</p>
<h2 id="场效应管（FET）"><a href="#场效应管（FET）" class="headerlink" title="场效应管（FET）"></a>场效应管（FET）</h2><h3 id="结型场效应管（JFET）"><a href="#结型场效应管（JFET）" class="headerlink" title="结型场效应管（JFET）"></a>结型场效应管（JFET）</h3><p>《模拟电子技术基础》（第五版）P33</p>
<h3 id="绝缘栅型场效应管（IGFET）"><a href="#绝缘栅型场效应管（IGFET）" class="headerlink" title="绝缘栅型场效应管（IGFET）"></a>绝缘栅型场效应管（IGFET）</h3><ol>
<li>绝缘栅型场效应管的栅极与源极、漏极之间都采用SiO<sub>2</sub>绝缘层隔离，栅极为金属铝，又称MOS管</li>
<li>IGFET的G-S间内阻比JFET大得多，可达10<sup>10</sup>Ω以上</li>
<li>MOS分N沟道和P沟道两类，每一类分<strong>增强型</strong>和<strong>耗尽型</strong>两种，U<sub>GS</sub>=0时，I<sub>d</sub>=0为增强型，I<sub>d</sub>≠0为耗尽型</li>
<li>NMOS的U<sub>GS</sub> 越大，反型层越厚，导电沟道电阻越小</li>
<li>与JFET一样，MOS管有三个工作区：可变电阻区、恒流区、夹断区，当U<sub>DS</sub>增大到U<sub>GS(th)</sub>（即U<sub>DS</sub>=U<sub>GS</sub>-U<sub>GS(th)</sub>）时，沟道在漏极一侧出现加断点，进入恒流区，U<sub>DS</sub>增大的部分几乎全部用于克服预夹断区对漏极电流的阻力</li>
<li>U<sub>DS</sub>&gt;U<sub>GS</sub>-U<sub>GS(th)</sub>时，对应每一个U<sub>GS</sub>就有一个确定的I<sub>d</sub>，可将I<sub>d</sub>视为电压U<sub>GS</sub>控制的电流源</li>
</ol>
<h3 id="FET符号及特性"><a href="#FET符号及特性" class="headerlink" title="FET符号及特性"></a>FET符号及特性</h3><p><img src="/2021/05/06/210506-bjt%E5%92%8Cfet/210506-bjt%E5%92%8Cfet-1.jpg" alt="210506-bjt和fet-1.jpg"><img src="/2021/05/06/210506-bjt%E5%92%8Cfet/210506-bjt%E5%92%8Cfet-2.jpg" alt="210506-bjt和fet-2.jpg"></p>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/04/210504-%E5%9F%9F%E5%90%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hao">
      <meta itemprop="description" content="保持热爱，奔赴山海。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永恆博客网">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/04/210504-%E5%9F%9F%E5%90%8D/" class="post-title-link" itemprop="url">喜提域名ihcode.cn（爱皓码）</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-04 19:00:00" itemprop="dateCreated datePublished" datetime="2021-05-04T19:00:00+08:00">2021-05-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-05-06 14:59:13" itemprop="dateModified" datetime="2021-05-06T14:59:13+08:00">2021-05-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Hexo/" itemprop="url" rel="index"><span itemprop="name">Hexo</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="注册流程"><a href="#注册流程" class="headerlink" title="注册流程"></a>注册流程</h3><ol>
<li>在<a target="_blank" rel="noopener" href="https://www.ename.cn/">易名官网</a>注册网站账号，实名认证（审核了半天）</li>
<li>选择好域名加入购物车，支付就可以，我的域名价格为35元一年</li>
</ol>
<h3 id="相关配置"><a href="#相关配置" class="headerlink" title="相关配置"></a>相关配置</h3><ol>
<li><p>注册完域名后进入后台-域名管理-我的域名</p>
</li>
<li><p>DNS使用的是<strong>易名DNS</strong>（免费版），网上听说易名DNS很烂，以后我再换一个DNS，易名DNS服务器是海外的，国内的DNS服务器需要备案，我的空间和服务器在本地，备案比较麻烦，就没备案</p>
</li>
<li><p>易名云解析中解析记录的一些配置如下</p>
<ul>
<li><p>主机记录就是域名前缀，常见用法有：</p>
<p>www：解析后的域名为 <code>www.ihcode.cn</code></p>
<p>@：直接解析主域名ihcode.cn</p>
<p>*：泛解析，匹配其他所有域名 *.ihcode.cn</p>
</li>
<li><p>要指向空间商提供的 IP 地址，选择「类型 A」，要指向一个域名，选择「类型 CNAME」</p>
</li>
<li><p>各类型的记录值一般是这样的：</p>
<p>A记录：填写您服务器 IP，如果您不知道，请咨询您的空间商</p>
<p>CNAME记录：填写空间商给您提供的域名</p>
</li>
<li><p>TTL(Time To Live)，缓存的生存时间。指地方dns缓存您域名记录信息的时间，缓存失效后会再次到获取记录值。</p>
<p>600（10分钟）：建议正常情况下使用600。</p>
<p>60（1分钟）：如果您经常修改IP，修改记录一分钟即可生效。长期使用60，解析速度会略受影响。</p>
<p>3600（1小时）：如果您IP极少变动（一年几次），建议选择3600，解析速度快。</p>
</li>
</ul>
</li>
<li><p>易名云解析中URL转发的一些配置如下</p>
<ul>
<li><p>域名，可以是 *.ihcode.cn 或者 <code>www.ihcode.cn</code></p>
</li>
<li><p>类型：显性或隐性</p>
<p>设置显性URL转发后，当用户访问域名会自动转向访问指定值，址栏显示指定值</p>
<p>设置隐性URL转发后，当用户访问域名会自动转向访问指定值，址栏仍旧显示之前域名</p>
</li>
<li><p>转发值：就是要跳转的域名链接http://，可以带端口号</p>
</li>
</ul>
</li>
</ol>
<h3 id="问题与解决"><a href="#问题与解决" class="headerlink" title="问题与解决"></a>问题与解决</h3><ol>
<li><p>解析记录的记录值只能是IP地址或者是指向的该IP的DDNS域名，不能加端口号</p>
<p>使用url转发可以带端口号，但是隐性类型转发后无法获取网页logo和名称，UI不正确等问题，使用显性类型转发可以</p>
</li>
<li><p>修改完解析记录后需要至少10分钟才能正常使用</p>
<p>清空DNS缓存即可，Windows管理员CMD输入<code>ipconfig /flushdns</code></p>
</li>
<li><p>Hexo 4000端口微信访问的时候会报非标准端口警告</p>
<p>考虑以后使用树莓派开一个web服务器，使用80端口映射到公网IP</p>
</li>
</ol>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/03/210503-ov2640/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hao">
      <meta itemprop="description" content="保持热爱，奔赴山海。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永恆博客网">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/03/210503-ov2640/" class="post-title-link" itemprop="url">OV2640初步调试记录</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-03 19:00:00" itemprop="dateCreated datePublished" datetime="2021-05-03T19:00:00+08:00">2021-05-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-17 10:32:06" itemprop="dateModified" datetime="2021-08-17T10:32:06+08:00">2021-08-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E4%BD%9C%E6%97%A5%E5%BF%97/" itemprop="url" rel="index"><span itemprop="name">工作日志</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E4%BD%9C%E6%97%A5%E5%BF%97/%E5%8D%A1%E7%89%87%E6%9C%BA/" itemprop="url" rel="index"><span itemprop="name">卡片机</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E4%BD%9C%E6%97%A5%E5%BF%97/%E5%8D%A1%E7%89%87%E6%9C%BA/OV2640/" itemprop="url" rel="index"><span itemprop="name">OV2640</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="OV2640硬件"><a href="#OV2640硬件" class="headerlink" title="OV2640硬件"></a>OV2640硬件</h2><h3 id="原理图"><a href="#原理图" class="headerlink" title="原理图"></a>原理图</h3><p>参考：OV2640硬件开发手册</p>
<p>设计：Hao</p>
<p><img src="/2021/05/03/210503-ov2640/210503-ov2640-1.jpg" alt="210503-ov2640-1.jpg"></p>
<h3 id="PCB"><a href="#PCB" class="headerlink" title="PCB"></a>PCB</h3><p>layout：小张</p>
<h2 id="OV2640软件"><a href="#OV2640软件" class="headerlink" title="OV2640软件"></a>OV2640软件</h2><h3 id="软件需求"><a href="#软件需求" class="headerlink" title="软件需求"></a>软件需求</h3><ul>
<li>jpeg读取，24l01发送</li>
<li>光线暗打开闪光（未完成），通过读取曝光时间来判断光线强弱，决定是否打开闪光灯</li>
</ul>
<h3 id="程序开发"><a href="#程序开发" class="headerlink" title="程序开发"></a>程序开发</h3><ul>
<li><p>参考：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Rx411R75t?p=79">正点原子ov2640实验视频</a>、OV2640数据手册、OV2640软件开发手册</p>
</li>
<li><p>接口：SCCB（类I2C）、DCMI（8bit并口）</p>
</li>
<li><p>传感器、传感器窗口、图像尺寸、图像窗口之间的关系如下图：<img src="/2021/05/03/210503-ov2640/210503-ov2640-3.jpg" alt="210503-ov2640-3.jpg"></p>
</li>
<li><p>程序开发按照正点原子给的库很容易进行，但部分功能库里没有需要查阅软件开发手册和数据手册，对寄存器进行读写。</p>
</li>
</ul>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul>
<li><p>DOVDD是IO的电平，给了3.3V，因为和它通讯的单片机使用的电压也是3.3V，如果这里用2.8V可以也是可以，会产生电流倒灌，增加了产品不稳定的因素</p>
</li>
<li><p>ov2640模组在上电的时候比较烫手，温度有55℃上下，不使用的时候将PWDN拉高，停止给电</p>
</li>
<li><p>为了节约成本，24Mhz时钟可以由单片机输出，代替有源晶振</p>
</li>
<li><p>如果单片机没有DCMI接口，软件模拟速度跟不上，需要使用带FIFO的摄像头（ov7550），才可以由软件模拟读取并口数据，模拟的还没有尝试过，可以参考原子哥M3例程，F103使用0V7550</p>
</li>
<li><p>由于大多数低成本国产单片机不带DCMI接口，可以由高云FPGA驱动ov2640，通过SPI发送给单片机，这是本人五一节后要做的事情</p>
</li>
</ul>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/04/30/210430-at32/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hao">
      <meta itemprop="description" content="保持热爱，奔赴山海。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="永恆博客网">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/30/210430-at32/" class="post-title-link" itemprop="url">80*62红外热像Demo板调试记录</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-04-30 15:00:00" itemprop="dateCreated datePublished" datetime="2021-04-30T15:00:00+08:00">2021-04-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-05-07 16:19:25" itemprop="dateModified" datetime="2021-05-07T16:19:25+08:00">2021-05-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E4%BD%9C%E6%97%A5%E5%BF%97/" itemprop="url" rel="index"><span itemprop="name">工作日志</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E4%BD%9C%E6%97%A5%E5%BF%97/%E5%8D%A1%E7%89%87%E6%9C%BA/" itemprop="url" rel="index"><span itemprop="name">卡片机</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E4%BD%9C%E6%97%A5%E5%BF%97/%E5%8D%A1%E7%89%87%E6%9C%BA/AT32/" itemprop="url" rel="index"><span itemprop="name">AT32</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="AT32（SPI）"><a href="#AT32（SPI）" class="headerlink" title="AT32（SPI）"></a>AT32（SPI）</h2><ul>
<li>暂时没有用DMA搬运，SPI3用于读取MI0801模组数据，SPI2用于驱LCD</li>
</ul>
<h3 id="SPI配置参数"><a href="#SPI配置参数" class="headerlink" title="SPI配置参数"></a>SPI配置参数</h3><ul>
<li><p>SPI配置需要注意的参数：极性CPOL和相位CPHA，<a target="_blank" rel="noopener" href="https://www.cnblogs.com/shangdawei/p/4752476.html">详解SPI中的极性CPOL和相位CPHA</a></p>
</li>
<li><p>如何判断CPOL：SCLK的空闲时候的电压，是0还是1，决定了CPOL是0还是1</p>
</li>
<li><p>如何判断CPHA：数据采样时刻对应着的SCLK的电平，是第一个边沿还是第二个边沿，对应着CPHA为0还是1</p>
<p><img src="/2021/04/30/210430-at32/210430-at32-1.jpg" alt="210430-at32-1.jpg"></p>
</li>
</ul>
<h3 id="驱动LCD问题"><a href="#驱动LCD问题" class="headerlink" title="驱动LCD问题"></a>驱动LCD问题</h3><ul>
<li>LCD用到了SPI和另外几个IO，写入命令过程中，要将DC拉低，0X2A、0X2B、0X2C是命令，但是DC拉低没有对上，通过程序加delay解决，当SPI速率上升后，可以不用delay就能使用LCD</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">LCD_WR_REG</span><span class="params">(<span class="type">uint8_t</span> dat)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//  Delay_us(5);</span></span><br><span class="line">  <span class="keyword">while</span> (SPI_I2S_GetFlagStatus(SPI2, SPI_I2S_FLAG_TE) == RESET);</span><br><span class="line">  LCD_DC_Clr();<span class="comment">//写命令</span></span><br><span class="line">  LCD_Writ_Bus(dat);</span><br><span class="line">  <span class="keyword">while</span> (SPI_I2S_GetFlagStatus(SPI2, SPI_I2S_FLAG_TE) == RESET);</span><br><span class="line"><span class="comment">//  Delay_us(5);</span></span><br><span class="line">  LCD_DC_Set();<span class="comment">//写数据</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>AT32在读写SPI前要等待上一次读写操作完成，否则会出现发送数据缺少，接收卡死</li>
</ul>
<h3 id="SPI-NSS上拉问题"><a href="#SPI-NSS上拉问题" class="headerlink" title="SPI NSS上拉问题"></a>SPI NSS上拉问题</h3><ul>
<li>at32单片机无法配置输出上拉或者下拉，SPI一开始调试的时候需要接着逻辑分析仪才可以，不接spi就接收不到数据，通过外加2k上拉电阻解决</li>
</ul>
<h2 id="AT32-SRAM"><a href="#AT32-SRAM" class="headerlink" title="AT32(SRAM)"></a>AT32(SRAM)</h2><h3 id="配置使用224KB-SRAM"><a href="#配置使用224KB-SRAM" class="headerlink" title="配置使用224KB SRAM"></a>配置使用224KB SRAM</h3><ul>
<li><p>要打开224KB SRAM《AT32F403A &amp; AT32F407入门使用指南》给了四种方法</p>
<p>1.2.3 AT32F403A_407零等待/非零等待Flash和内置SRAM大小选择配置大小选择配置说明</p>
<ul>
<li>使用 ICP/ISP 方式</li>
<li>使用脱机烧录器方式</li>
<li>客户也可以使用在 Bootloader program（IAP）内修改 SRAM 的大小，并调用它</li>
<li>启动文件中修改 AT32F403A_407 SRAM 为 224KB</li>
</ul>
</li>
<li><p>我用的是第三种方法，直接下一遍SRAM例程就开启了224KB SRAM</p>
</li>
</ul>
<h2 id="KEIL编译优化"><a href="#KEIL编译优化" class="headerlink" title="KEIL编译优化"></a>KEIL编译优化</h2><ul>
<li><strong>Keil编译优化等级从0提升到3，使图像帧率从2.5fps提升到了3.5fps</strong></li>
</ul>
<h3 id="不同编译优化等级区别"><a href="#不同编译优化等级区别" class="headerlink" title="不同编译优化等级区别"></a>不同编译优化等级区别</h3><ul>
<li><p>Level0：近乎不优化，用于调试代码。出现代码行不能设置断点可如此设置试试</p>
</li>
<li><p>Level1：部分优化。移除未调用的内联函数和静态函数，关闭debug窗口优化，此状态也能用于调试</p>
</li>
<li><p>Level2：默认优化等级。如果处于debug状态，<strong>部分代码行将不能被调试</strong>，具体做了什么优化好像没说</p>
</li>
<li><p>Level3：可能更牛的优化等级。会增加编译时间，可能会快，可能生成的文件大小会小，可能会暴毙</p>
</li>
<li><p>相关文档：<a target="_blank" rel="noopener" href="https://blog.csdn.net/jiangchao3392/article/details/80267198">KEIL编译器【C语言编译选项优化等级说明】</a></p>
</li>
</ul>
<h2 id="实物"><a href="#实物" class="headerlink" title="实物"></a>实物</h2><h3 id="实物展示图"><a href="#实物展示图" class="headerlink" title="实物展示图"></a>实物展示图</h3><p><img src="/2021/04/30/210430-at32/210430-at32-2.jpg" alt="210430-at32-2.jpg"></p>
<h3 id="四种图像显示模式"><a href="#四种图像显示模式" class="headerlink" title="四种图像显示模式"></a>四种图像显示模式</h3><p><img src="/2021/04/30/210430-at32/210430-at32-3.jpg" alt="210430-at32-3.jpg"></p>
<h3 id="红外显示示范"><a href="#红外显示示范" class="headerlink" title="红外显示示范"></a>红外显示示范</h3><p><img src="/2021/04/30/210430-at32/210430-at32-4.jpg" alt="210430-at32-4.jpg"></p>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Hao</p>
  <div class="site-description" itemprop="description">保持热爱，奔赴山海。</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">51</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hao</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
